import{u as S,r as h,E as g,p as N,q as f,j as a,a as e,m as b,F as A,bP as O,bz as R,L as s,S as C,x as r,bQ as I,aM as T,bR as k,bS as L,bT as U,C as v,bU as y,aA as V,aE as _,bV as D,bW as B,bF as M,bX as F,bY as K,bu as x,bG as X,V as W,ac as Y,A as j,b as w}from"./index-646d6ab8.js";const J={vehicles:[{type:"car",name:"Blista Compact",plate:"49XJL722",model:"Blista Compact",location:"Richman Glen",impounded:!1,locked:!1,statistics:{engine:100,body:100,fuel:100}},{type:"car",name:"Buccaneer",plate:"49XJL723",model:"Buccaneer",location:"Buccaneer Way",impounded:!1,locked:!0,statistics:{engine:87,body:98,fuel:53}},{type:"car",name:"Buffalo",plate:"49XJL724",model:"Buffalo",location:"Grove Street",impounded:!0,locked:!1,statistics:{engine:100,body:100,fuel:100},impoundReason:{reason:"Parking Violation",retrievable:0,price:250,impounder:"Police Department"}}]};function Q(){const m=S(j),[c,t]=h.useState([]),[i,d]=h.useState(null);h.useEffect(()=>{g("Garage")&&N("Garage",{action:"getVehicles"},J.vehicles).then(l=>{if(!l)return f("info","No response from getVehicles");t(l)})},[m==null?void 0:m.active]);const P={car:e(R,{}),boat:e(I,{}),plane:e(T,{}),bike:e(k,{}),truck:e(L,{}),train:e(U,{})};return a("div",{className:"garage-container",style:{backgroundImage:"url(./assets/img/backgrounds/default/apps/garage/2.jpg)"},children:[e(b.div,{animate:{backdropFilter:"blur(10px) brightness(0.75)"},exit:{backdropFilter:"inherit"},transition:{duration:1},className:"blur-overlay"}),e("div",{className:"garage-header",children:i?a(A,{children:[e("div",{className:"title",children:i.model}),e(O,{className:"close",onClick:()=>d(null)})]}):a("div",{className:"title",children:[e(R,{})," ",s("APPS.GARAGE.MY_CARS")]})}),e(b.div,{...C(i?"right":"left",i?"home":"homes",.2),className:"garage-wrapper",children:i?e(q,{Vehicle:[i,d],Vehicles:[c,t]}):a(A,{children:[c.filter(l=>l.location==="out"&&!l.impounded).length>0&&a(A,{children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.OUT"),e(r,{})]}),e("section",{children:c.filter(l=>l.location==="out"&&!l.impounded).map(l=>a("div",{className:"item small",onClick:()=>d(l),children:[e("div",{className:"icon blue",children:P[l.type]}),a("div",{className:"info",children:[e("div",{className:"title",children:l.model}),e("div",{className:"value",children:l.plate})]})]},l.plate))})]}),c.filter(l=>l.location!=="out"&&!l.impounded).length>0&&a(A,{children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.GARAGE"),e(r,{})]}),e("section",{children:c.filter(l=>l.location!=="out"&&!l.impounded).map((l,u)=>a("div",{className:"item small",onClick:()=>d(l),children:[e("div",{className:"icon blue",children:P[l.type]}),a("div",{className:"info",children:[e("div",{className:"title",children:l.model}),a("div",{className:"value",children:[l.plate," - ",l.location]})]})]},l.plate))})]}),c.filter(l=>l.impounded).length>0&&a(A,{children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.IMPOUNDED"),e(r,{})]}),e("section",{children:c.filter(l=>l.impounded).map((l,u)=>a("div",{className:"item small",onClick:()=>d(l),children:[e("div",{className:"icon blue",children:P[l.type]}),a("div",{className:"info",children:[e("div",{className:"title",children:l.model}),a("div",{className:"value",children:[l.plate," - ",l.location]})]})]},l.plate))})]})]})})]})}const q=({Vehicle:m,Vehicles:c})=>{var u,G,E;const t=S(w),[i,d]=m,[P,l]=c;return a("div",{className:"options-container",children:[a("div",{className:"grid-wrapper",children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.ACTIONS"),e(r,{})]}),a("div",{className:"grid",children:[a("div",{className:"item big",onClick:()=>{v.PopUp.set({title:s("APPS.GARAGE.WAYPOINT_POPUP.TITLE"),description:s("APPS.GARAGE.WAYPOINT_POPUP.TEXT").format({model:i.model}),buttons:[{title:s("APPS.GARAGE.WAYPOINT_POPUP.CANCEL")},{title:s("APPS.GARAGE.WAYPOINT_POPUP.PROCEED"),cb:()=>{N("Garage",{action:"setWaypoint",plate:i.plate})}}]})},children:[e("div",{className:"icon blue",children:e(y,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.LOCATION")}),e("div",{className:"value",children:V(i.location==="out"?s("APPS.GARAGE.OUT"):i.location)})]})]}),i.locked!==void 0&&a("div",{className:"item big","data-active":i.locked,onClick:()=>{v.PopUp.set({title:s("APPS.GARAGE.LOCK_POPUP.TITLE").format({toggle:i.locked?s("APPS.GARAGE.UNLOCK"):s("APPS.GARAGE.LOCK")}),description:s("APPS.GARAGE.LOCK_POPUP.TEXT").format({toggle:(i.locked?s("APPS.GARAGE.UNLOCK"):s("APPS.GARAGE.LOCK")).toLowerCase()}),buttons:[{title:s("APPS.GARAGE.LOCK_POPUP.CANCEL")},{title:s("APPS.GARAGE.LOCK_POPUP.PROCEED"),cb:()=>{N("Garage",{action:"toggleLocked",plate:i.plate},!i.locked).then(p=>{p!==void 0&&(l(o=>o.map(n=>n.plate===i.plate?{...n,locked:!n.locked}:n)),d(o=>({...o,locked:!o.locked})))})}}]})},children:[e("div",{className:"icon blue",children:e(_,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.STATUS")}),e("div",{className:"value",children:i.locked?s("APPS.GARAGE.LOCKED"):s("APPS.GARAGE.UNLOCKED")})]})]}),((u=t==null?void 0:t.valet)==null?void 0:u.enabled)&&i.location!=="out"&&!i.impounded&&((G=t.valet)==null?void 0:G.vehicleTypes.includes(i.type))&&a("div",{className:"item big",onClick:()=>{v.PopUp.set({title:s("APPS.GARAGE.VALET_POPUP.TITLE"),description:t.valet.price&&t.valet.price>0?s("APPS.GARAGE.VALET_POPUP.TEXT_PAID").format({model:i.model,plate:i.plate,amount:t.valet.price}):s("APPS.GARAGE.VALET_POPUP.TEXT").format({model:i.model,plate:i.plate}),buttons:[{title:s("APPS.GARAGE.VALET_POPUP.CANCEL")},{title:s("APPS.GARAGE.VALET_POPUP.PROCEED"),cb:()=>{N("Garage",{action:"valet",plate:i.plate}).then(p=>{p&&l(o=>o.map(n=>n.plate===i.plate?{...n,location:"out"}:n))})}}]})},children:[e("div",{className:"icon blue",children:e(D,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.SUMMON")}),e("div",{className:"value",children:s("APPS.GARAGE.VALET")})]})]})]})]}),i.statistics&&Object.keys(i.statistics).length>0&&a("div",{className:"grid-wrapper",children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.STATISTICS"),e(r,{})]}),a("div",{className:"grid",children:[i.statistics.fuel&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(B,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.FUEL")}),a("div",{className:"value",children:[i.statistics.fuel,"%"]})]})]}),i.statistics.engine&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(M,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.ENGINE")}),a("div",{className:"value",children:[i.statistics.engine,"%"]})]})]}),i.statistics.body&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(F,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.BODY")}),a("div",{className:"value",children:[i.statistics.body,"%"]})]})]})]})]}),i.impounded&&i.impoundReason&&Object.keys(i.impoundReason).length>0&&a("div",{className:"grid-wrapper",children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.IMPOUND_INFO"),e(r,{})]}),a("div",{className:"grid",children:[i.impoundReason.reason&&a("div",{className:"item big",children:[e("div",{className:"icon blue",children:e(K,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.REASON")}),e("div",{className:"value",children:i.impoundReason.reason})]})]}),i.impoundReason.impounder&&a("div",{className:"item big",children:[e("div",{className:"icon blue",children:e(x,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.IMPOUNDER")}),e("div",{className:"value",children:i.impoundReason.impounder})]})]}),i.impoundReason.price!==void 0&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(X,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.PRICE")}),e("div",{className:"value",children:(E=t==null?void 0:t.CurrencyFormat)==null?void 0:E.replace("%s",i.impoundReason.price.toString())})]})]}),i.impoundReason.retrievable&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(W,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.RETRIEVABLE")}),e("div",{className:"value",children:Y(i.impoundReason.retrievable)})]})]})]})]})]})};export{Q as default};
